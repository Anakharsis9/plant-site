import{$ as t}from"./vendor.62917bef.js";const d=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const a of e)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerpolicy&&(a.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?a.credentials="include":e.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(e){if(e.ep)return;e.ep=!0;const a=r(e);fetch(e.href,a)}};d();const c=()=>{let n=0;const o=t("#formName"),r=t("#formPhone");t(".modal__form__input").removeClass("invalid"),t(".error").remove();const s=/^((8|\+7))[\d]{10}$/g;return o.val().length<3&&(o.addClass("invalid"),o.after("<span class='error'>\u0418\u043C\u044F \u0434\u043E\u043B\u0436\u043D\u043E \u0431\u044B\u0442\u044C \u043D\u0435 \u043C\u0435\u043D\u0435\u0435 3-\u0445 \u0441\u0438\u043C\u0432\u043E\u043B\u043E\u0432.</span>"),n+=1),r.val().match(s)||(r.addClass("invalid"),r.after("<span class='error'>\u0422\u0435\u043B\u0435\u0444\u043E\u043D \u0434\u043E\u043B\u0436\u0435\u043D \u043D\u0430\u0447\u0438\u043D\u0430\u0442\u044C\u0441\u044F \u0441 +7 \u0438\u043B\u0438 8, \u0437\u0430 \u043A\u043E\u0442\u043E\u0440\u044B\u043C\u0438 \u0441\u043B\u0435\u0434\u0443\u044E\u0442 \u0435\u0449\u0435 10 \u0446\u0438\u0444\u0440.</span>"),n+=1),n},i=n=>{const o=document.createElement("table");o.className="modal__table",o.appendChild(m(n[0]));for(const r of n)o.appendChild(f(r));return o};function m(n){const o=Object.keys(n),r=document.createElement("tr");for(const s of o){const e=document.createElement("th");e.innerText=s,r.appendChild(e)}return r}function f(n){const o=Object.keys(n),r=document.createElement("tr");for(const s of o){const e=document.createElement("td");e.innerText=n[s],r.appendChild(e)}return r}t(".header__btn").on("click",function(){t(".modal").addClass("modal_active"),t("body").addClass("body_overlowHidden"),t(".modal__content").addClass("modal__content_active")});t(".close").on("click",u);function u(n){n.preventDefault(),t(".modal").removeClass("modal_active"),t("body").removeClass("body_overlowHidden"),t(".modal__content").removeClass("modal__content_active")}t("#form").on("submit",p);function p(n){n.preventDefault();const o=c(),r="https://jsonplaceholder.typicode.com/todos";o===0&&t.ajax({url:r,type:"GET",beforeSend(){t("#form").remove(),t(".spinner").removeClass("spinner_hidden")},success(s){const e=s.filter(a=>a.userId===5&&a.completed===!1);t(".modal__content").append(i(e))},complete(){t(".spinner").addClass("spinner_hidden")},error(){t(".modal__content").append("<span class='error'>\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430 \u043F\u0440\u0438 \u0437\u0430\u043F\u0440\u043E\u0441\u0435, \u043E\u0431\u043D\u043E\u0432\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043D\u0438\u0446\u0443 \u0438 \u043F\u043E\u043F\u0440\u043E\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.</span>")}})}
